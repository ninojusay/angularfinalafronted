<!-- Top Navbar for Manager -->
<nav *ngIf="account?.role === Role.Manager" class="navbar navbar-expand navbar-dark bg-dark px-3 fixed-top">
    <div class="navbar-nav w-100">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item nav-link">
            <i class="fas fa-home me-2"></i> Home
        </a>
        <a routerLink="/profile" routerLinkActive="active" class="nav-item nav-link">
            <i class="fas fa-user me-2"></i> Profile
        </a>
        <a routerLink="/order" routerLinkActive="active" class="nav-item nav-link">
            <i class="fas fa-clipboard-list me-2"></i> Order
        </a>
        <a routerLink="/product" routerLinkActive="active" class="nav-item nav-link">
            <i class="fas fa-box-open me-2"></i> Product
        </a>
        <a routerLink="/inventory" routerLinkActive="active" class="nav-item nav-link">
            <i class="fas fa-cubes me-2"></i> Inventory
        </a>
        <div class="navbar-nav ms-auto">
            <button (click)="logout()" class="btn btn-link nav-item nav-link">
                <i class="fas fa-sign-out-alt me-2"></i> Logout
            </button>
        </div>
    </div>
</nav>

<!-- Top Navbar for User -->
<nav *ngIf="account?.role === Role.User" class="navbar navbar-expand navbar-dark bg-dark px-3 fixed-top">
    <div class="navbar-nav w-100">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item nav-link">
            <i class="fas fa-home me-2"></i> Home
        </a>
        <a routerLink="/profile" routerLinkActive="active" class="nav-item nav-link">
            <i class="fas fa-user me-2"></i> Profile
        </a>
        <a routerLink="/order" routerLinkActive="active" class="nav-item nav-link">
            <i class="fas fa-clipboard-list me-2"></i> Order
        </a>
        <a routerLink="/product" routerLinkActive="active" class="nav-item nav-link">
            <i class="fas fa-box-open me-2"></i> Product
        </a>
    </div>

    <div class="navbar-nav ms-auto">
        <button (click)="logout()" class="btn btn-link nav-item nav-link">
            <i class="fas fa-sign-out-alt me-2"></i> Logout
        </button>
    </div>
</nav>

<div class="app-container d-flex" [ngClass]="{ 'bg-light': account }" [ngStyle]="{ 'padding-top': account?.role === Role.Manager || Role.User  ? '56px' : '0' }">
    <!-- Sidebar for Admin -->
    <nav *ngIf="account?.role === Role.Admin" 
         class="navbar navbar-expand-lg navbar-dark bg-dark flex-column p-3"
         style="position: fixed; top: 0; left: 0; width: 200px; height: 100vh; z-index: 1000;">
        <div class="navbar-nav flex-column w-100 h-100">
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item nav-link">
                <i class="fas fa-home me-2"></i> Home
            </a>
            <a routerLink="/profile" routerLinkActive="active" class="nav-item nav-link">
                <i class="fas fa-user me-2"></i> Profile
            </a>
            <a routerLink="/branch" routerLinkActive="active" class="nav-item nav-link">
                <i class="fas fa-building me-2"></i> Branch
            </a>
            <a routerLink="/order" routerLinkActive="active" class="nav-item nav-link">
                <i class="fas fa-clipboard-list me-2"></i> Order
            </a>
            <a routerLink="/product" routerLinkActive="active" class="nav-item nav-link">
                <i class="fas fa-box-open me-2"></i> Product
            </a>
            <a routerLink="/inventory" routerLinkActive="active" class="nav-item nav-link">
                <i class="fas fa-cubes me-2"></i> Inventory
            </a>
            <a routerLink="/admin" routerLinkActive="active" class="nav-item nav-link">
                <i class="fas fa-cogs me-2"></i> Admin
            </a>
            
            <div class="mt-auto">
                <button (click)="logout()" class="btn btn-link nav-item nav-link">
                    <i class="fas fa-sign-out-alt me-2"></i> Logout
                </button>
            </div>
        </div>
    </nav>

    <div class="flex-grow-1" [ngStyle]="{ 'margin-left': account?.role === Role.Admin ? '200px' : '0' }">
        <router-outlet name="subnav"></router-outlet>
        <alert></alert>
        <router-outlet></router-outlet>
    </div>
</div>
